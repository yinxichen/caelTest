<!DOCTYPE html>
<html lang="zh-cn">
	<head>
		<!-- Meta, title, CSS, favicons, etc. -->
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=9">
		<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=0.5, maximum-scale=2, user-scalable=yes">
		<meta name="keywords" content="HTML，CSS，JS，JavaScript，framework，bootstrap，front-end，web development，江苏跨境">
		<meta name="description" content="江苏跨境电子商务服务有限公司">
		<meta name="author" content="潘明星，尹喜晨">
		<title> </title>
		<!-- Bootstrap 3.3.6 -->
		<link rel="stylesheet" href="/src/css/bootstrap.css">
		<!-- Font Awesome -->
		<link rel="stylesheet" href="/src/css/font-awesome.css">
		<!-- Ionicons -->
		<link rel="stylesheet" href="/src/css/ionicons.css">
		<!-- prism precode -->
		<link rel="stylesheet" href="/plugins/prism/prism.css">
		<!-- AdminJKJ style -->
		<link rel="stylesheet" href="/src/css/adminjkj-1.0.323.css">
		<link rel="stylesheet" href="/src/css/adminjkj-themes-1.0.0.css">
		<!--子页面样式-->
		
		
		<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
		<!--[if lt IE 9]>
		<script src="/src/js/html5shiv.js"></script>
		<script src="/src/js/respond.js"></script>
		<![endif]-->   
	</head>
	<body class="" style=" overflow-x: auto;">
  		<!-- Site wrapper -->
		<div class=" page-body">
			<!--子页面内容-->
			
<div class="page-containers">
	<div class="form-title">
		pureLayer 纯真遮罩层加载动画
	</div>
	<pre>
		<code class="language-html">   
			
			&lt;script type=&quot;text/javascript&quot;&gt;
				var myLayer;
				function showLayer(i) {
					var $defer = $.Deferred();

					$defer.then(function () {
						var placements = [&#39;self&#39;, &#39;parent&#39;, &#39;top&#39;];

						myLayer = $.jkj.pureLayer.loading(&#39;开始加载...&#39;, placements[Math.floor(Math.random() * 3)]);
						myLayer.setContent(&#39;动效遮罩层&#39; + i);
						showLayer(++i);
					}, function () {
						myLayer.close();
						showLayer(++i);
					});
					if (i % 2 === 1) {
						setTimeout(function () { $defer.resolve(); }, 1000);
					}
					else {
						setTimeout(function () { $defer.reject(); }, 1000);
					}
				}
				$(function () {
					showLayer(1);
				});
			&lt;/script&gt;
			
		</code>
		<a class="fa fa-file-code-o" href="javascript:;" data-xmp="">展开代码</a>
	</pre>
</div>
<div class="page-containers">
	<div class="form-title">
		遮罩层配置参数
	</div>
	<pre>
		<div>myLayer.close(); 关闭遮罩层</div>
		<div>$.jkj.pureLayer.loading('开始加载...'); 当前页面创建遮罩层</div>
		<div>$.jkj.pureLayer.loading('开始加载...','parent'); 父页面创建遮罩层</div>
		<div>$.jkj.pureLayer.loading('开始加载...','top'); 顶级页面创建遮罩层</div>
		<div>$.jkj.pureLayer.remove(myLayer.id); 移除指定遮罩层</div>
		<div>$.jkj.pureLayer.removeAll(); 移除所有遮罩层</div>
		<code class="language-html">   
			
			&lt;script&gt;
				// 默认配置信息
				defaults: {
					/**
					 * 遮罩层类型，[&#39;mask&#39; | &#39;loading&#39; | &#39;page&#39; | &#39;zone&#39;]
					 * mask：遮罩层
					 * loading：全屏动效遮罩层
					 * page: 数据加载全屏动效遮罩层
					 * zone：数据加载区域动效遮罩层
					 */
					type: &#39;mask&#39;,
					/**
					 * 遮罩层放置的页面，[&#39;self&#39; | &#39;parent&#39; | &#39;top&#39;]
					 * self： 当前页面
					 * parent：父页面
					 * top：顶级页面
					 */
					page: &#39;self&#39;,
					// 显示内容
					content: &#39;加载中...&#39;,
					// 图片class，动效遮罩层有效
					imgClass: &#39;layer-loading&#39;,
					// 数据加载结合遮罩层，动效遮罩层有效
					load: {
						// 远程url
						url: null,
						// 发送的数据
						data: null,
						// 加载成功后回调的方法
						successCallBack: function (data, layer) {
							layer.close();
						},
						// 加载不成功后回调的方法
						errorCallBack: function (data, layer, status) {
							layer.setContent(&#39;系统异常...&#39;);
							setTimeout(function () {
								layer.close();
							}, 5000);
						}
					}
				}	
			&lt;/script&gt;
			
		</code>
		<a class="fa fa-file-code-o" href="javascript:;" data-xmp="">展开代码</a>
	</pre>
</div>
<div class="page-containers">
	<div class="form-title">
		老版本遮罩层
	</div>
	<pre>
		<div>myLayer.close(); 关闭蒙版</div>
		<div>$.jkj.layer.mask(myLayer.id);	当前页面创建蒙版</div>
		<div>$.jkj.layer.maskParent(myLayer.id);	父页面创建蒙版</div>
		<div>$.jkj.layer.maskTop(myLayer.id);	顶级页面创建蒙版</div>
		<div>$.jkj.layer.remove(myLayer.id);	移除指定层</div>
		<div>$.jkj.layer.removeAll();	移除所有层(蒙版，加载，加载含内容)</div>
		<code class="language-html">   
			
			&lt;script type=&quot;text/javascript&quot;&gt;
				var myLayer;
				$(function() {
					myLayer = $.jkj.layer.loading(&#39;我的祖国。。。&#39;);
					setTimeout(function(){
	                	myLayer.setMessage(&#39;祖国的花朵多美丽祖国的花朵多美丽祖国的花朵多美丽祖国的花朵多美丽祖国的花朵多美丽&#39;);
		                setTimeout(function(){
		                	$.jkj.layer.setMessage(myLayer.id,&#39;这样可以吗？&#39;);
			                setTimeout(function(){
			                	myLayer.close();
			                	setTimeout(function(){
				                	myLayer=$.jkj.layer.loading(&#39;我是最新加载的。。。&#39;);
				                },1000);
			                },1000);
		                },1000);
	                },1000);
				});
				
				//$.jkj.layer.setMessage(myLayer.id,&#39;这样可以吗？&#39;);
			&lt;/script&gt;
			
		</code>
		<a class="fa fa-file-code-o" href="javascript:;" data-xmp="">展开代码</a>
	</pre>
</div>


		</div>
		
		<!-- jquery 2.2.3 -->
		<script src="/plugins/jquery/jquery-2.2.3.min.js"></script>
		<!-- Bootstrap 3.3.6 -->
		<script src="/src/js/bootstrap.js"></script>
		<!-- SlimScroll -->
		<script src="/plugins/slimScroll/jquery.slimscroll.min.js"></script>
		<!-- FastClick -->
		<script src="/plugins/fastclick/fastclick.js"></script>
		<!-- Notify -->
		<script src="/plugins/bootstrap-notify/bootstrap-notify.js"></script>
		<!-- prism precode -->
		<script src="/plugins/prism/prism.js"></script>

		<script src="/src/js/adminjkj-1.0.323.js" type="text/javascript"></script>
		<!--子页面脚本-->
		

<script type="text/javascript">
	var myLayer;

	function showLayer(i) {
		var $defer = $.Deferred();

		$defer.then(function () {
			var placements = ['self', 'parent', 'top'];

			myLayer = $.jkj.pureLayer.loading('开始加载...', placements[Math.floor(Math.random() * 3)]);
			myLayer.setContent('动效遮罩层' + i);
			showLayer(++i);
		}, function () {
			myLayer.close();
			showLayer(++i);
		});
		if (i % 2 === 1) {
			setTimeout(function () { $defer.resolve(); }, 1000);
		}
		else if(i>16){
			myLayer.close();
		}
		else {
			setTimeout(function () { $defer.reject(); }, 1000);
		}
	}
	$(function () {
		showLayer(1);
	});

</script>


	</body>
</html>