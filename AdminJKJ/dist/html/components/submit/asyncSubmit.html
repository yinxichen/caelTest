<!DOCTYPE html>
<html lang="zh-cn">
	<head>
		<!-- Meta, title, CSS, favicons, etc. -->
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=9">
		<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=0.5, maximum-scale=2, user-scalable=yes">
		<meta name="keywords" content="HTML，CSS，JS，JavaScript，framework，bootstrap，front-end，web development，江苏跨境">
		<meta name="description" content="江苏跨境电子商务服务有限公司">
		<meta name="author" content="潘明星，尹喜晨">
		<title> </title>
		<!-- Bootstrap 3.3.6 -->
		<link rel="stylesheet" href="/css/bootstrap.min.css">
		<!-- Font Awesome -->
		<link rel="stylesheet" href="/css/font-awesome.min.css">
		<!-- Ionicons -->
		<link rel="stylesheet" href="/css/ionicons.min.css">
		<!-- AdminJKJ style -->
		<link rel="stylesheet" href="/css/adminjkj-1.0.323.min.css">
		<link rel="stylesheet" href="/css/adminjkj-themes-1.0.0.min.css">
		<!--子页面样式-->
		 
		
		<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
		<!--[if lt IE 9]>
		<script src="/js/html5shiv.min.js"></script>
		<script src="/js/respond.min.js"></script>
		<![endif]-->   
	</head>
	<body class="" style=" overflow-x: auto;">
  		<!-- Site wrapper -->
		<div class=" page-body">
			<!--子页面内容-->
			
<div class="page-containers">
	<form id="myform" class="tooltip-validate" action="/data/upload.json">
		<div class="row margin-top-30">
			<div class="col-xs-6">
				<div class="row-void row-form">
					<div class="col-xs-4 text-right">名称：</div>
					<div class="col-xs-8">
						<input type="text" name="name" data-rules="{required: true}" data-beautify-models="currency" class="form-control beautify-input"
						/>
					</div>
				</div>
			</div>
			<div class="col-xs-6">
				<div class="row-void row-form">
					<div class="col-xs-4 text-right">性别：</div>
					<div class="col-xs-8">
						<input type="text" name="sex" data-beautify-models="currency" class="form-control required beautify-input" />
					</div>
				</div>
			</div>
		</div>
	</form>
	<button id="submit" type="button" class="btn btn-primary">提交</button>
	<button id="save" type="button" class="btn btn-primary">保存草稿</button>

	<h4>
		<span class="red">*</span> 新异步提交js</h4>
	<div class="">
		<i class="fa fa-file-code-o"></i>
		<a href="javascript:;" data-xmp="">展开代码</a>
		<xmp>
			<form id="myform" class="tooltip-validate" action="/data/upload.json">
				<div class="row margin-top-30">
					<div class="col-xs-6">
						<div class="row-void row-form">
							<div class="col-xs-4 text-right">名称：</div>
							<div class="col-xs-8">
								<input type="text" name="name" class="form-control required" />
							</div>
						</div>
					</div>
					<div class="col-xs-6">
						<div class="row-void row-form">
							<div class="col-xs-4 text-right">性别：</div>
							<div class="col-xs-8">
								<input type="text" name="sex" class="form-control required" />
							</div>
						</div>
					</div>
				</div>
			</form>
			<button id="submit" type="button" class="btn btn-primary" onclick="save(this, true)">提交</button>
			<button id="save" type="button" class="btn btn-primary" onclick="save(this, false)">保存草稿</button>

			<script src="/plugins/jquery-validation/jquery.validate.js"></script>
			<script src="/plugins/jquery-validation/additional-methods.js"></script>
			<script src="/plugins/jquery-validation/messages_zh.js"></script>
			<!-- page script -->
			<script>
				$(function () {
					var myform;
					myform = $('#myform').jkj('wonderForm', {
						enableBeautifyInput: true,
						enableDynamicRules: true,
						submit: {
							beforeSend: function (context) {
								console.log(context.ajaxData);
							}
						}
					});
					$('#submit').click(function (e) {
						e.preventDefault();
						$('#myform').attr('data-validation-model', 'submit');
						myform.submit(this);
					});
					$('#save').click(function (e) {
						e.preventDefault();
						$('#myform').attr('data-validation-model', 'draft');
						myform.submit(this);
					});
				});
			</script>
		</xmp>
	</div>
	<h5>配置参数</h5>
	<table class="table">
		<tr>
			<th>enableBeautifyInput</th>
			<td>boolean</td>
			<td style="width:50%;">启用美化输入,默认false</td>
		</tr>
		<tr>
			<th>enableEnterKey</th>
			<td>boolean</td>
			<td>文本框上启用回车键提交表单,默认false</td>
		</tr>
		<tr>
			<th>enableValidate</th>
			<td>boolean</td>
			<td>初始化表单验证,默认true</td>
		</tr>
		<tr>
			<th>enableTrim</th>
			<td>boolean</td>
			<td>去掉文本前后空格或指定字符,默认true</td>
		</tr>
		<tr>
			<th>enableDynamicRules</th>
			<td>boolean</td>
			<td>启用动态验证规则,默认false</td>
		</tr>
		<tr>
			<th>dynamicRules</th>
			<td>Object</td>
			<td>定义获取动态验证规则的属性名，值为对象，如：{ required: true, minlength: 2}（适用场景：提交的时候需要验证，保存草稿的时候不需要验证）</td>
		</tr>
		<tr>
			<th>validationModel</th>
			<td>data-validation-model</td>
			<td>验证模式，【'draft','submit'】，默认'draft'</td>
		</tr>
		<tr>
			<th>validate</th>
			<td>{}</td>
			<td>表单验证的参数信息</td>
		</tr>
		<tr>
			<th>submit</th>
			<td></td>
			<td>
				submit: {<br />
					&nbsp;&nbsp;&nbsp;&nbsp;// 表单提交url，默认为form的action值<br />
					&nbsp;&nbsp;&nbsp;&nbsp;url: null,<br />
					&nbsp;&nbsp;&nbsp;&nbsp;// 表单方法类型，默认为'post'<br />
					&nbsp;&nbsp;&nbsp;&nbsp;type: 'post',<br />
					&nbsp;&nbsp;&nbsp;&nbsp;// 发送前回调方法<br />
					&nbsp;&nbsp;&nbsp;&nbsp;beforeSend: null,<br />
					&nbsp;&nbsp;&nbsp;&nbsp;successCallBack: null,<br />
					&nbsp;&nbsp;&nbsp;&nbsp;errorCallBack: null,<br />
					&nbsp;&nbsp;&nbsp;&nbsp;completeCallBack: null<br />
				}
			</td>
		</tr>
	</table>
</div>
<div class="page-containers">
	<h5>老版本异步提交js</h5>
	<div class="">
		<i class="fa fa-file-code-o"></i>
		<a href="javascript:;" data-xmp="">展开代码</a>
		<xmp>
			<script>
				$(function () {
					$.jkj.initForm("#myform");
				});

				function save(obj, validate) {
					$("#myform").jkjSubmit({
						btn: obj,
						validate: validate,
						callback: null,
						beforeSend: null
					});
				}
			</script>
		</xmp>
	</div>
</div>

		</div>
		
		<!-- jquery 2.2.3 -->
		<script src="/plugins/jquery/jquery-2.2.3.min.js"></script>
		<!-- Bootstrap 3.3.6 -->
		<script src="/js/bootstrap.min.js"></script>
		<!-- SlimScroll -->
		<script src="/plugins/slimScroll/jquery.slimscroll.min.js"></script>
		<!-- FastClick -->
		<script src="/plugins/fastclick/fastclick.js"></script>
		<!-- Notify -->
		<script src="/plugins/bootstrap-notify/bootstrap-notify.js"></script>

		<script src="/js/adminjkj-1.0.323.min.js" type="text/javascript"></script>
		<!--子页面脚本-->
		
<script src="/plugins/jquery-validation/jquery.validate.js"></script>
<script src="/plugins/jquery-validation/additional-methods.js"></script>
<script src="/plugins/jquery-validation/messages_zh.js"></script>
<!-- page script -->
<script>
			$(function () {
				var myform;
				// 老的
				// $.jkj.initForm("#myform");
				// $('#submit').click(function (e) {
				// 	e.preventDefault();
				// 	$("#myform").jkjSubmit({
				// 		btn: this,
				// 		validate: true,
				// 		callback: null,
				// 		beforeSend: null
				// 	});
				// });
				// $('#save').click(function (e) {
				// 	e.preventDefault();
				// 	$("#myform").jkjSubmit({
				// 		btn: this,
				// 		validate: false,
				// 		callback: null,
				// 		beforeSend: null
				// 	});
				// });
				// 新的
				myform = $('#myform').jkj('wonderForm', {
					enableBeautifyInput: true,
					enableDynamicRules: true,
					submit: {
						beforeSend: function (context) {
							console.log(context.ajaxData);
						}
					}
				});
				$('#submit').click(function (e) {
					e.preventDefault();
					$('#myform').attr('data-validation-model', 'submit');
					myform.submit(this);
				});
				$('#save').click(function (e) {
					e.preventDefault();
					$('#myform').attr('data-validation-model', 'draft');
					myform.submit(this);
				});
			});

</script> 
	</body>
</html>